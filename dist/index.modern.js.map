{"version":3,"file":"index.modern.js","sources":["../src/utils.js","../src/index.js"],"sourcesContent":["import { Field, ErrorMessage } from 'formik'\nimport { Form } from 'formik'\nimport React from 'react'\n\nexport const generateFormContent = (props) => {\n  const { formItemsProvider } = props\n  const items = Array.isArray(formItemsProvider) ? formItemsProvider : formItemsProvider()\n  return <Form className=\"grid grid-flow-row\">\n    {\n      items.map(item => {\n        const { isMulti } = item\n        if (isMulti) {\n          return _generateItemsView({ ...props, item })\n        }\n\n        return _generateItemView({ ...props, item, })\n      })\n    }\n  </Form>\n}\n\nconst _generateItemsView = (props) => {\n  const { item: { className, items } } = props\n\n  return <div className={className}>\n    {items.map(_item => _generateItemView({ ...props, item: _item, }))}\n  </div>\n}\n\nconst _generateItemView = (props) => {\n  const { item, componentsLibraries = [() => null] } = props\n  if (item.hide) {\n    return null\n  }\n\n  var Component = null\n  for (var i = 0; i < componentsLibraries.length; i++) {\n    Component = componentsLibraries[i](item)\n    if (Component) {\n      break\n    }\n  }\n\n  if (!Component) {\n    return null\n  }\n\n  return <Wrapper {...props} Component={Component} />\n}\n\nconst Wrapper = (props) => {\n  const { item: { type, id, label, forceLabel = false, className = \"\" }, Component, onValuesChanged } = props\n\n  return <div className={`form-control mb-4 ${className}`}>\n    {\n      (label && forceLabel) ?\n        <label className=\"label\">\n          <span>{label}</span>\n        </label> : null\n    }\n\n    <Field type={type} name={id} >\n      {({ field, form }) => {\n\n        const customOnValueChanged = (value) => {\n          const { item: { id }, setFieldValue, setFieldTouched } = props\n          setFieldValue(id, value)\n          setFieldTouched(id, true, false)\n          const _values = { ...props.values }\n          _values[id] = value\n          onValuesChanged && onValuesChanged(_values)\n        }\n\n        return <Component\n          {...props}\n          field={field}\n          form={form}\n          customOnValueChanged={customOnValueChanged} />\n      }}\n    </Field>\n    <ErrorMessage\n      name={id}\n      component=\"div\"\n      className=\"text-sm text-red-600 pt-2\" />\n  </div>\n}\n","import React from 'react'\nimport { Formik } from 'formik'\nimport { generateFormContent } from './utils'\n\nexport default (props) => {\n  const {\n    onSubmit,\n    error,\n  } = props\n\n  const initialValues = (typeof props.initialValues !== 'function') ? props.initialValues : (props.initialValues && props.initialValues())\n  const validationSchema = (typeof props.validationSchema !== 'function') ? props.validationSchema : (props.validationSchema && props.validationSchema())\n\n  return (\n    <div>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={onSubmit}>\n        {formProps => generateFormContent({ ...formProps, ...props, initialValues, validationSchema })}\n      </Formik>\n      {error ?\n        <div className=\"alert alert-error mb-4\">\n          <div className=\"flex-1\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" className=\"w-6 h-6 mx-2 stroke-current\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"></path>\n            </svg>\n            <label>{error.message}</label>\n          </div>\n        </div>\n        : null}\n    </div>\n  )\n}\n"],"names":["generateFormContent","props","formItemsProvider","items","Array","isArray","map","item","isMulti","_generateItemsView","_generateItemView","className","_item","componentsLibraries","hide","Component","i","length","Wrapper","type","id","label","forceLabel","onValuesChanged","field","form","customOnValueChanged","value","setFieldValue","setFieldTouched","_values","values","onSubmit","error","initialValues","validationSchema","formProps","message"],"mappings":"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"}